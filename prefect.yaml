deployments:
  - name: currency-acquisition
    description: Acquire currency exchange rate data
    flow: currency_acquisition_flow
    entrypoint: flows/currency_acquisition_flow.py:currency_acquisition_flow
    work_pool:
      name: Yichen_Test
    pull_steps:
      - type: set_working_directory
        directory: "."
      - type: git_clone
        repository: "https://github.com/forg1ve1125/Prefect_Project.git"
        branch: "main"
      - type: pip_install_requirements
        directory: "."
        requirements_file: "requirements.txt"
    schedules:
      - cron: "10 17 17 * *"
        timezone: Europe/Zurich
        active: true

  - name: prepare-batch
    description: Prepare batch data
    flow: prepare_batch_flow
    entrypoint: flows/prepare_batch_flow.py:prepare_batch_flow
    work_pool:
      name: Yichen_Test
    pull_steps:
      - type: git_clone
        repository: "https://github.com/forg1ve1125/Prefect_Project.git"
        branch: "main"
      - type: pip_install_requirements
        directory: "{{ pull_steps[0].directory }}"
        requirements_file: "requirements.txt"
    schedules:
      - cron: "30 17 17 * *"
        timezone: Europe/Zurich
        active: true

  - name: process-batch
    description: Process batch data
    flow: process_batch_flow
    entrypoint: flows/process_batch_flow.py:process_batch_flow
    work_pool:
      name: Yichen_Test
    pull_steps:
      - type: git_clone
        repository: "https://github.com/forg1ve1125/Prefect_Project.git"
        branch: "main"
      - type: pip_install_requirements
        directory: "{{ pull_steps[0].directory }}"
        requirements_file: "requirements.txt"
    schedules:
      - cron: "30 17 17 * *"
        timezone: Europe/Zurich
        active: true
